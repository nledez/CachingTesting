<!DOCTYPE html>
<html>
  <head>
    <title>Caching testing</title>
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    <script src="http://code.jquery.com/jquery-latest.js"></script>
  </head>
  <body>
    <p>
    <button name="refresh">Refresh</button>
    </p>

    <a href="/c1/p1">/c1/p1</a><br/>
    <div id="c1p1" width="100px" height="100px" background="black"></div><br/>
    <br/>
    <a href="/c1/p2">/c1/p2</a><br/>
    <div id="c1p2" width="100px" height="100px" background="black"></div><br/>
    <br/>
    <a href="/c1/p3">/c1/p3</a><br/>
    <div id="c1p3" width="100px" height="100px" background="black"></div><br/>
    <br/>
    <a href="/c1/p4">/c1/p4</a><br/>
    <div id="c1p4" width="100px" height="100px" background="black"></div><br/>
    <br/>

    <a href="/c2/p1">/c2/p1</a><br/>
    <div id="c2p1" width="100px" height="100px" background="black"></div><br/>
    <br/>
    <a href="/c2/p2">/c2/p2</a><br/>
    <div id="c2p2" width="100px" height="100px" background="black"></div><br/>
    <br/>
    <a href="/c2/p3">/c2/p3</a><br/>
    <div id="c2p3" width="100px" height="100px" background="black"></div><br/>
    <br/>
    <a href="/c2/p4">/c2/p4</a><br/>
    <div id="c2p4" width="100px" height="100px" background="black"></div><br/>
    <br/>

    <script>
        $(document).ready(function() {
          var c1p1 = setTimeout( function() { $.get("/c1/p1", function(data) { $('div#c1p1').append(data); } ) }, 1000);
          var c1p2 = setTimeout( function() { $.get("/c1/p2", function(data) { $('div#c1p2').append(data); } ) }, 2000);
          var c1p3 = setTimeout( function() { $.get("/c1/p3", function(data) { $('div#c1p3').append(data); } ) }, 3000);
          var c1p4 = setTimeout( function() { $.get("/c1/p4", function(data) { $('div#c1p4').append(data); } ) }, 4000);
          var c2p1 = setTimeout( function() { $.get("/c2/p1", function(data) { $('div#c2p1').append(data); } ) }, 5000);
          var c2p2 = setTimeout( function() { $.get("/c2/p2", function(data) { $('div#c2p2').append(data); } ) }, 6000);
          var c2p3 = setTimeout( function() { $.get("/c2/p3", function(data) { $('div#c2p3').append(data); } ) }, 7000);
          var c2p4 = setTimeout( function() { $.get("/c2/p4", function(data) { $('div#c2p4').append(data); } ) }, 8000);
        });
        $("button").click(function () {
          $('div').empty();
          var c1p1 = setTimeout( function() { $.get("/c1/p1", function(data) { $('div#c1p1').append(data); } ) }, 1000);
          var c1p2 = setTimeout( function() { $.get("/c1/p2", function(data) { $('div#c1p2').append(data); } ) }, 2000);
          var c1p3 = setTimeout( function() { $.get("/c1/p3", function(data) { $('div#c1p3').append(data); } ) }, 3000);
          var c1p4 = setTimeout( function() { $.get("/c1/p4", function(data) { $('div#c1p4').append(data); } ) }, 4000);
          var c2p1 = setTimeout( function() { $.get("/c2/p1", function(data) { $('div#c2p1').append(data); } ) }, 5000);
          var c2p2 = setTimeout( function() { $.get("/c2/p2", function(data) { $('div#c2p2').append(data); } ) }, 6000);
          var c2p3 = setTimeout( function() { $.get("/c2/p3", function(data) { $('div#c2p3').append(data); } ) }, 7000);
          var c2p4 = setTimeout( function() { $.get("/c2/p4", function(data) { $('div#c2p4').append(data); } ) }, 8000);
        });
    </script>
  </body>
</html>
